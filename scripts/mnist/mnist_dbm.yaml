!obj:pylearn2.scripts.train.Train {
    # dataset below is now (temporarily) obsolete
    "dataset": &data !obj:pylearn2.datasets.mnist.MNIST {
        "which_set": 'train',
        "one_hot": True,
    },
    "model": !obj:DBM.dbm.DBM {
        "seed" : 123141,
        "n_u": [784,500,500],
        "lr": 0.001,
        "flags": {
            'enable_natural': True,
            'mlbiases': True
        },
        "lr_timestamp": [0.],
        "lr_mults": {},
        "pos_mf_steps": 5,
        "iscales": {'W1': 0.01, 'W2': 0.01},
        "clip_min": {},
        "l1": {'W1': 0.0, 'W2': 0.0},
        "batch_size": 2048,
        "computational_bs":256,
        "my_save_path": 'dbm',
        "minres_params": {
            'rtol': 0.00001,
            'damp': 0.1,
            'maxit': 80,
        }
        "save_at": [100],
        "save_every": 100,
    },
    "algorithm": !obj:pylearn2.training_algorithms.default.DefaultTrainingAlgorithm {
               "batch_size": 2048,
               "batches_per_iter" : 10,
               "monitoring_batches": 10,
               "monitoring_dataset": *data,
    },
}
